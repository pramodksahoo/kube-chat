# KubeChat Root Environment Configuration
# Copy this file to .env and configure values for your deployment

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Deployment environment (development|staging|production)
DEPLOYMENT_MODE=development

# Kubernetes namespace for deployment
KUBECHAT_NAMESPACE=kubechat-dev

# Application version
KUBECHAT_VERSION=dev

# =============================================================================
# CONTAINER REGISTRY CONFIGURATION
# =============================================================================

# Container registry for images
IMAGE_REGISTRY=localhost:5000

# Image pull policy (Always|IfNotPresent|Never)
IMAGE_PULL_POLICY=Always

# Registry authentication (if required)
# REGISTRY_USERNAME=your_username
# REGISTRY_PASSWORD=your_password

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL configuration for audit service
POSTGRES_HOST=kubechat-postgresql
POSTGRES_PORT=5432
POSTGRES_DB=kubechat_audit_dev
POSTGRES_USER=kubechat_user
POSTGRES_PASSWORD=dev-kubechat-password

# PostgreSQL connection pooling
POSTGRES_MAX_CONNECTIONS=50
POSTGRES_MAX_IDLE_CONNECTIONS=10
POSTGRES_CONN_MAX_LIFETIME=1h

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis configuration for caching and sessions
REDIS_HOST=kubechat-redis-master
REDIS_PORT=6379
REDIS_PASSWORD=dev-redis-password
REDIS_DB=0

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# =============================================================================
# API GATEWAY CONFIGURATION
# =============================================================================

# API Gateway service configuration
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8080

# CORS configuration
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_RPM=1000

# Security settings
TLS_ENABLED=false
SECURE_HEADERS=true

# =============================================================================
# KUBERNETES OPERATOR CONFIGURATION
# =============================================================================

# Operator configuration
OPERATOR_NAMESPACE=kubechat-dev
OPERATOR_WEBHOOK_ENABLED=false
OPERATOR_METRICS_PORT=8080

# Leader election
LEADER_ELECTION_ENABLED=true
LEADER_ELECTION_NAMESPACE=kubechat-dev

# Reconciliation settings
RECONCILE_INTERVAL=30s
MAX_CONCURRENT_RECONCILES=5

# =============================================================================
# AUDIT SERVICE CONFIGURATION
# =============================================================================

# Audit service configuration
AUDIT_SERVICE_PORT=8082
AUDIT_RETENTION_DAYS=30
AUDIT_BATCH_SIZE=100
AUDIT_FLUSH_INTERVAL=5s

# Tamper-proof audit settings
AUDIT_TAMPER_PROOF=true
AUDIT_CHECKSUM_VALIDATION=true
AUDIT_CHAIN_ENABLED=true

# =============================================================================
# WEB FRONTEND CONFIGURATION
# =============================================================================

# Web frontend configuration
WEB_PORT=80
WEB_API_URL=http://api-gateway:8080

# Development settings
WEB_HOT_RELOAD=true
WEB_DEBUG_MODE=true

# =============================================================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================================================

# LLM Service configuration (for NLP features)
LLM_PROVIDER=ollama
LLM_ENDPOINT=http://host.docker.internal:11434
LLM_MODEL=llama3.2
# LLM_API_KEY=your_api_key_here

# SIEM Integration (optional)
SIEM_ENABLED=false
# SIEM_ENDPOINT=https://your-siem.company.com
# SIEM_TOKEN=your_siem_token

# OIDC/OAuth2 configuration (optional)
OIDC_ENABLED=false
# OIDC_ISSUER=https://auth.company.com
# OIDC_CLIENT_ID=kubechat
# OIDC_CLIENT_SECRET=your_client_secret

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Metrics configuration
METRICS_ENABLED=true
METRICS_PORT=8080
PROMETHEUS_SCRAPE_INTERVAL=15s

# Tracing configuration
TRACING_ENABLED=false
# JAEGER_ENDPOINT=http://jaeger-collector:14268/api/traces

# Logging configuration
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT configuration
JWT_SECRET=your-jwt-secret-change-this-in-production
JWT_EXPIRATION=24h

# Encryption configuration
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# TLS configuration
TLS_CERT_PATH=/etc/certs/tls.crt
TLS_KEY_PATH=/etc/certs/tls.key

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Go runtime configuration
GOMAXPROCS=0
GO_GC_PERCENT=100

# Connection timeouts
HTTP_TIMEOUT=30s
DATABASE_TIMEOUT=10s
REDIS_TIMEOUT=5s

# =============================================================================
# DEVELOPMENT UTILITIES
# =============================================================================

# Development mode settings
DEBUG_MODE=true
PROFILING_ENABLED=false
HOT_RELOAD_ENABLED=true

# Mock services for development
MOCK_SERVICES_ENABLED=true
MOCK_LLM_RESPONSES=true

# Test data generation
GENERATE_TEST_DATA=true
TEST_DATA_SIZE=small

# =============================================================================
# AIR-GAP DEPLOYMENT SETTINGS
# =============================================================================

# Air-gap deployment configuration
AIRGAP_MODE=false
OFFLINE_MODE=false
DISABLE_EXTERNAL_DNS=false
BLOCK_INTERNET_ACCESS=false

# Local registry settings for air-gap
LOCAL_REGISTRY_ONLY=false
AIRGAP_VALIDATION=false

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION=7d

# Backup storage
# BACKUP_S3_BUCKET=your-backup-bucket
# BACKUP_S3_REGION=us-west-2
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Compliance settings
COMPLIANCE_MODE=standard
AUDIT_LOG_RETENTION=90d

# Regulatory compliance flags
SOC2_COMPLIANCE=false
GDPR_COMPLIANCE=false
HIPAA_COMPLIANCE=false

# =============================================================================
# RESOURCE LIMITS AND REQUESTS
# =============================================================================

# Default resource limits (can be overridden per service)
DEFAULT_CPU_LIMIT=500m
DEFAULT_MEMORY_LIMIT=512Mi
DEFAULT_CPU_REQUEST=100m
DEFAULT_MEMORY_REQUEST=128Mi

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
FEATURE_ADVANCED_NLP=true
FEATURE_REAL_TIME_AUDIT=true
FEATURE_MULTI_CLUSTER=false
FEATURE_SERVICE_MESH=false

# Beta features
BETA_FEATURES_ENABLED=false
EXPERIMENTAL_FEATURES_ENABLED=false